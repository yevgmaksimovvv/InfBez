# CyberSecurity Web Application

Веб-приложение для криптографических операций с тройной аутентификацией.

## Описание

Приложение предоставляет веб-интерфейс для работы с криптографическими алгоритмами, реализованными в соответствии с российскими стандартами ГОСТ. Система поддерживает тройную аутентификацию пользователей и позволяет выполнять операции шифрования, хеширования и работы с документами.

## Структура проекта

```
IBApplication/
├── backend/              # FastAPI бэкенд
│   ├── routers/         # API роутеры
│   ├── models.py        # Модели БД
│   ├── database.py      # Конфигурация БД
│   ├── auth_utils.py    # Утилиты аутентификации
│   ├── main.py          # Точка входа
│   └── requirements.txt
├── frontend/            # React фронтенд
│   ├── src/
│   │   ├── pages/       # Страницы приложения
│   │   ├── components/  # React компоненты
│   │   ├── services/    # API клиенты
│   │   └── contexts/    # React контексты
│   └── package.json
├── algorithms/          # Криптографические алгоритмы
│   ├── kuznechik/      # Алгоритм Кузнечик
│   ├── streebog/       # Алгоритм Стрибог
│   └── rsa_32768.py    # RSA-32768
├── docker-compose.yml
├── INSTALLATION.md      # Подробная инструкция
└── README.md
```

## Технологии

- **Backend**: FastAPI, Python 3.10+
- **Frontend**: React, Tailwind CSS
- **Database**: PostgreSQL (Docker)
- **Алгоритмы**: 
  - RSA-32768 (GMP/gmpy2)
  - Кузнечик (ГОСТ Р 34.12-2018)
  - Стрибог-512 (ГОСТ 34.11-2018)
- **Аутентификация**: Пароль (Стрибог) + OAuth (Google/Yandex) + Email/OTP

## Особенности реализации

✅ **Криптографические алгоритмы**:
- Все алгоритмы реализованы в соответствии с ГОСТ
- Константы и функции соответствуют стандартам
- Полное соответствие требованиям ГОСТ

✅ **Тройная аутентификация**:
1. Пароль (хешируется алгоритмом Стрибог-512)
2. OAuth (Google/Yandex) - интеграция через OAuth2
3. Email/OTP (одноразовые коды на email)

✅ **Роли пользователей**:
- Гость (анонимный доступ с ограниченными возможностями)
- Пользователь (полный доступ к функциям шифрования)
- Админ (управление пользователями и системой)

✅ **Функциональность**:
- Шифрование/расшифрование текста (RSA-32768, Кузнечик)
- Хеширование данных (Стрибог-512)
- Сохранение документов в базе данных
- Экспорт документов в PDF с электронной цифровой подписью

## Быстрый старт

Подробная инструкция по установке и настройке доступна в [INSTALLATION.md](INSTALLATION.md)

### Краткая инструкция:

1. Установите GMP библиотеку (требуется для RSA-32768)
2. Запустите PostgreSQL: `docker-compose up -d`
3. Установите зависимости бэкенда: `cd backend && pip install -r requirements.txt`
4. Создайте файл `.env` в `backend/` (см. пример в INSTALLATION.md)
5. Установите зависимости фронтенда: `cd frontend && npm install`
6. Запустите бэкенд: `cd backend && uvicorn main:app --reload` (таблицы создадутся автоматически)
7. Запустите фронтенд: `cd frontend && npm run dev`

## API Документация

После запуска бэкенда интерактивная документация API доступна по адресу:
- Swagger UI: http://localhost:8000/docs
- ReDoc: http://localhost:8000/redoc

## Архитектура

### Backend (FastAPI)
- RESTful API для всех операций
- JWT токены для аутентификации
- Интеграция с PostgreSQL
- Поддержка OAuth2 провайдеров

### Frontend (React)
- Современный интерфейс на Tailwind CSS
- Адаптивный дизайн
- Интеграция с бэкенд API
- Управление состоянием через React Context

### Алгоритмы
- **RSA-32768**: Асимметричное шифрование с ключами 32768 бит
- **Кузнечик**: Симметричное блочное шифрование (ГОСТ Р 34.12-2018)
- **Стрибог-512**: Криптографическая хеш-функция (ГОСТ 34.11-2018)

## Тестирование алгоритмов

Для тестирования криптографических алгоритмов с замером времени используйте CLI утилиту:

```bash
# Тестировать все алгоритмы
python test_algorithms.py --all

# Тестировать конкретный алгоритм
python test_algorithms.py --streebog
python test_algorithms.py --kuznechik
python test_algorithms.py --rsa

# Настроить количество итераций и размеры данных
python test_algorithms.py --streebog --iterations 20 --data-size 16 64 256 1024

# Подробное логирование этапов работы алгоритмов
python test_algorithms.py --all --verbose
```

Утилита показывает:
- Время выполнения операций (шифрование, расшифрование, хеширование)
- Скорость обработки данных
- Минимальное, максимальное и среднее время
- Корректность работы алгоритмов

**Флаги для детализации:**

- `--verbose` (`-v`) - подробное логирование этапов работы алгоритмов:
  - **Стрибог**: этапы инициализации, обработка блоков, финальные преобразования
  - **Кузнечик**: генерация ключей, раунды шифрования/расшифрования
  - **RSA-32768**: прогресс генерации простых чисел, этапы создания ключей

- `--progress` (`-p`) - прогресс-бары с процентами выполнения:
  - Показывает процент выполнения для всех операций
  - Отображает ETA (оценку времени до завершения)
  - Для RSA показывает количество попыток генерации простых чисел
  - Автоматически использует `tqdm` если установлен, иначе простой текстовый прогресс-бар

## Примечания

- Все криптографические алгоритмы реализованы в соответствии с ГОСТ
- RSA-32768 использует библиотеку GMP для работы с большими числами
- Пароли пользователей хешируются алгоритмом Стрибог-512
- Экспорт PDF с ЭЦП реализован с использованием библиотеки reportlab
- Для production использования необходимо настроить переменные окружения и использовать HTTPS
